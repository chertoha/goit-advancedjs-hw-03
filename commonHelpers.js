import{a as h,S}from"./assets/vendor-58591cc1.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const g={BREEDS:"/breeds",SEARCH:"/images/search"};h.defaults.headers.common["x-api-key"]="live_TXJqDJeRS9JivKq3zq7sv4yzdOKp1ER7wIZK3ZAVZcB7rVqgE85DUoqQnpfQg9LB";const E=h.create({baseURL:"https://api.thecatapi.com/v1"}),b=()=>E.get(g.BREEDS).then(e=>e.data),q=e=>E.get(g.SEARCH,{params:{breed_ids:e}}).then(r=>r.data),v=(e,r,o,c)=>{const t=document.createDocumentFragment(),n=document.createElement("img"),s=document.createElement("div"),u=document.createElement("h1"),f=document.createElement("p"),m=document.createElement("p");return n.src=e,u.innerText=r,f.innerText=o,m.innerHTML=`<strong>Temperament</strong>: ${c}`,s.append(u,f,m),t.append(n,s),t},y="Choose breed",d=document.querySelector(".breed-select"),l=document.querySelector(".cat-info"),R=document.querySelector(".loader"),w=document.querySelector(".error"),x=new S({select:d});a(!0);L(!1);i(!1);b().then(e=>{D(e),L(!0)}).catch(()=>{i(!0)}).finally(()=>{a(!1)});d.addEventListener("change",e=>{const r=e.target.value;r!==y&&(a(!0),p(!1),i(!1),q(r).then(o=>{B(o[0]),p(!0)}).catch(()=>{i(!0)}).finally(()=>{a(!1)}))});function D(e){const r=e.map(({id:o,name:c})=>({text:c,value:o}));x.setData([{placeholder:!0,text:y},...r])}function B(e){if(!e)throw new Error;const r=e.url,{name:o,description:c,temperament:t}=e.breeds[0],n=v(r,o,c,t);l.innerHTML="",l.appendChild(n)}function a(e){R.classList.toggle("hidden",!e)}function L(e){d.classList.toggle("hidden",!e)}function i(e){w.classList.toggle("hidden",!e)}function p(e){l.classList.toggle("hidden",!e)}
//# sourceMappingURL=commonHelpers.js.map
